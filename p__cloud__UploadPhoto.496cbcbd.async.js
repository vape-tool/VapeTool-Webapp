(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"14J3":function(e,t,a){"use strict";a("cIOH"),a("1GLa")},BMrR:function(e,t,a){"use strict";var n=a("qrJ5");t["a"]=n["a"]},IzEo:function(e,t,a){"use strict";a("cIOH"),a("lnY3"),a("Znn+"),a("14J3"),a("jCWc")},aK7X:function(e,t,a){"use strict";var n=a("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},i=r,o=a("6VBw"),c=function(e,t){return n["createElement"](o["a"],Object.assign({},e,{ref:t,icon:i}))};c.displayName="ShareAltOutlined";t["a"]=n["forwardRef"](c)},bx4M:function(e,t,a){"use strict";var n=a("q1tI"),r=a("TSYQ"),i=a.n(r),o=a("BGR+"),c=a("H84U");function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},p=function(e){return n["createElement"](c["a"],null,(function(t){var a=t.getPrefixCls,r=e.prefixCls,o=e.className,c=e.hoverable,p=void 0===c||c,d=u(e,["prefixCls","className","hoverable"]),m=a("card",r),h=i()("".concat(m,"-grid"),o,s({},"".concat(m,"-grid-hoverable"),p));return n["createElement"]("div",l({},d,{className:h}))}))},d=p;function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m.apply(this,arguments)}var h=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},f=function(e){return n["createElement"](c["a"],null,(function(t){var a=t.getPrefixCls,r=e.prefixCls,o=e.className,c=e.avatar,l=e.title,s=e.description,u=h(e,["prefixCls","className","avatar","title","description"]),p=a("card",r),d=i()("".concat(p,"-meta"),o),f=c?n["createElement"]("div",{className:"".concat(p,"-meta-avatar")},c):null,g=l?n["createElement"]("div",{className:"".concat(p,"-meta-title")},l):null,v=s?n["createElement"]("div",{className:"".concat(p,"-meta-description")},s):null,b=g||v?n["createElement"]("div",{className:"".concat(p,"-meta-detail")},g,v):null;return n["createElement"]("div",m({},u,{className:d}),f,b)}))},g=f,v=a("ZTPi"),b=a("BMrR"),y=a("kPKH"),E=a("3Nzz");function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},O.apply(this,arguments)}var x=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};function C(e){var t=e.map((function(t,a){return n["createElement"]("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(a)},n["createElement"]("span",null,t))}));return t}var j=function(e){var t,a,r,l=n["useContext"](c["b"]),s=l.getPrefixCls,u=l.direction,p=n["useContext"](E["b"]),m=function(t){e.onTabChange&&e.onTabChange(t)},h=function(){var t;return n["Children"].forEach(e.children,(function(e){e&&e.type&&e.type===d&&(t=!0)})),t},f=e.prefixCls,g=e.className,j=e.extra,P=e.headStyle,I=void 0===P?{}:P,N=e.bodyStyle,S=void 0===N?{}:N,k=e.title,z=e.loading,M=e.bordered,R=void 0===M||M,U=e.size,L=e.type,B=e.cover,H=e.actions,A=e.tabList,F=e.children,T=e.activeTabKey,K=e.defaultActiveTabKey,q=e.tabBarExtraContent,J=e.hoverable,D=e.tabProps,G=void 0===D?{}:D,W=x(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),V=s("card",f),Y=0===S.padding||"0px"===S.padding?{padding:24}:void 0,X=n["createElement"]("div",{className:"".concat(V,"-loading-block")}),Z=n["createElement"]("div",{className:"".concat(V,"-loading-content"),style:Y},n["createElement"](b["a"],{gutter:8},n["createElement"](y["a"],{span:22},X)),n["createElement"](b["a"],{gutter:8},n["createElement"](y["a"],{span:8},X),n["createElement"](y["a"],{span:15},X)),n["createElement"](b["a"],{gutter:8},n["createElement"](y["a"],{span:6},X),n["createElement"](y["a"],{span:18},X)),n["createElement"](b["a"],{gutter:8},n["createElement"](y["a"],{span:13},X),n["createElement"](y["a"],{span:9},X)),n["createElement"](b["a"],{gutter:8},n["createElement"](y["a"],{span:4},X),n["createElement"](y["a"],{span:3},X),n["createElement"](y["a"],{span:16},X))),Q=void 0!==T,$=O(O({},G),(t={},w(t,Q?"activeKey":"defaultActiveKey",Q?T:K),w(t,"tabBarExtraContent",q),t)),_=A&&A.length?n["createElement"](v["a"],O({size:"large"},$,{className:"".concat(V,"-head-tabs"),onChange:m}),A.map((function(e){return n["createElement"](v["a"].TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(k||j||_)&&(r=n["createElement"]("div",{className:"".concat(V,"-head"),style:I},n["createElement"]("div",{className:"".concat(V,"-head-wrapper")},k&&n["createElement"]("div",{className:"".concat(V,"-head-title")},k),j&&n["createElement"]("div",{className:"".concat(V,"-extra")},j)),_));var ee=B?n["createElement"]("div",{className:"".concat(V,"-cover")},B):null,te=n["createElement"]("div",{className:"".concat(V,"-body"),style:S},z?Z:F),ae=H&&H.length?n["createElement"]("ul",{className:"".concat(V,"-actions")},C(H)):null,ne=Object(o["default"])(W,["onTabChange"]),re=U||p,ie=i()(V,g,(a={},w(a,"".concat(V,"-loading"),z),w(a,"".concat(V,"-bordered"),R),w(a,"".concat(V,"-hoverable"),J),w(a,"".concat(V,"-contain-grid"),h()),w(a,"".concat(V,"-contain-tabs"),A&&A.length),w(a,"".concat(V,"-").concat(re),re),w(a,"".concat(V,"-type-").concat(L),!!L),w(a,"".concat(V,"-rtl"),"rtl"===u),a));return n["createElement"]("div",O({},ne,{className:ie}),r,ee,te,ae)};j.Grid=d,j.Meta=g;t["a"]=j},jCWc:function(e,t,a){"use strict";a("cIOH"),a("1GLa")},kPKH:function(e,t,a){"use strict";var n=a("/kpp");t["a"]=n["a"]},lnY3:function(e,t,a){},oVF2:function(e,t,a){"use strict";a("IzEo");var n=a("bx4M"),r=(a("+L6B"),a("2/Rp")),i=(a("tU7J"),a("wFql")),o=a("o0o1"),c=a.n(o),l=a("HaE+"),s=a("1OyB"),u=a("vuIU"),p=a("Ji7U"),d=a("LK+K"),m=(a("miYZ"),a("tsqr")),h=(a("DZo9"),a("8z0m")),f=a("q1tI"),g=a.n(f),v=a("qQNu"),b=a.n(v),y=a("LtfV"),E=a("ycIM"),w=a("X72a"),O=(a("hzVQ"),a("9kvl")),x=h["a"].Dragger;function C(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||m["a"].error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<20;return a||m["a"].error("Image must smaller than 20MB!"),t&&a}function j(e){return new Promise((function(t,a){if(!e.originFileObj)return a(new Error("Origin file object undefined"));var n=new FileReader;return n.readAsDataURL(e.originFileObj),n.onload=function(){"string"===typeof n.result?t(n.result):a(new Error("Can not process ArrayBuffer"))},n.onerror=function(e){return a(e)},n}))}var P="image/jpeg",I=.92,N=function(e){Object(p["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;Object(s["a"])(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),e.state={sourceImage:void 0,crop:void 0},e.imageRef=void 0,e.croppedFileUrl=void 0,e.onUploadChange=function(){var t=Object(l["a"])(c.a.mark((function t(a){var n,r;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=a.file.status,"uploading"!==n&&console.log(a.file,a.fileList),"done"!==n){t.next=10;break}return m["a"].success("".concat(a.file.name," file uploaded successfully.")),t.next=6,j(a.file);case 6:r=t.sent,e.setState({sourceImage:r}),t.next=11;break;case 10:"error"===n&&m["a"].error("".concat(a.file.name," file upload failed."));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onImageLoaded=function(t){e.imageRef=t;var a=t.width>t.height?t.height:t.width,n=t.height>t.width?t.width:t.height,r=a===t.width?0:(t.width-a)/2,i=n===t.height?0:(t.height-n)/2,o={unit:"px",aspect:1,width:a,height:n,x:r,y:i};return e.onCropChange(o),e.makeClientCrop(o),!1},e.onCropChange=function(t){return e.setState({crop:t})},e.getCroppedImgUrl=function(t){var a=e.imageRef,n=document.createElement("canvas"),r=a.naturalWidth/a.width,i=a.naturalHeight/a.height;if(!t.width||!t.height)throw new Error("crop width ".concat(t.width," and crop height ").concat(t.height," must be positive number"));n.width=Math.ceil(t.width*r),n.height=Math.ceil(t.height*i),e.props.maxSize&&(n.width=Math.min(e.props.maxSize,n.width),n.height=Math.min(e.props.maxSize,n.height));var o=n.getContext("2d");if(!o)throw new Error("Could not retrieve context");if(void 0===t.x||void 0===t.y)throw new Error("crop x: ".concat(t.x," and crop height ").concat(t.y," must be positive number"));return o.drawImage(a,t.x*r,t.y*i,t.width*r,t.height*i,0,0,e.props.maxSize?Math.min(e.props.maxSize,t.width*r):t.width*r,e.props.maxSize?Math.min(e.props.maxSize,t.height*r):t.height*r),new Promise((function(a){n.toBlob((function(n){if(n){e.croppedFileUrl&&window.URL.revokeObjectURL(e.croppedFileUrl),e.croppedFileUrl=window.URL.createObjectURL(n);var o=t.width*r,c=t.height*i;a(Object.create({blob:n,width:o,height:c}))}else console.error("Canvas is empty")}),P,I)}))},e.makeClientCrop=function(){var t=Object(l["a"])(c.a.mark((function t(a){var n,r,i,o;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.imageRef&&a.width&&a.height)){t.next=8;break}return t.next=3,e.getCroppedImgUrl(a);case 3:n=t.sent,r=n.blob,i=n.width,o=n.height,e.props.onResizeImage&&e.props.onResizeImage(e.croppedFileUrl,r,i,o);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onResetSourceImage=function(){return e.setState({sourceImage:void 0})},e}return Object(u["a"])(a,[{key:"render",value:function(){var e=this.state,t=e.sourceImage,a=e.crop,o=this.props,c=o.uploadHintText,l=o.onConfirm;return g.a.createElement(g.a.Fragment,null,!t&&g.a.createElement(x,{name:"file",multiple:!1,onChange:this.onUploadChange,beforeUpload:C},g.a.createElement("p",{className:"ant-upload-drag-icon"},g.a.createElement(y["a"],null)),g.a.createElement("p",{className:"ant-upload-text"},g.a.createElement(O["i"],{id:"user.uploadPhoto.clickOrDrag",defaultMessage:"Click or drag file to this area to upload"})),g.a.createElement("p",{className:"ant-upload-hint"},c||g.a.createElement(i["default"],null,"Please upload only vape related photos. Breaking those rules will result in account suspension."))),t&&g.a.createElement(n["a"],{style:{textAlign:"center"}},g.a.createElement(b.a,{imageStyle:{maxHeight:"80vh"},src:t,crop:a,minHeight:100,minWidth:100,keepSelection:!0,onImageLoaded:this.onImageLoaded,onComplete:this.makeClientCrop,onChange:this.onCropChange}),g.a.createElement("div",{style:{marginTop:24}},g.a.createElement(r["default"],{type:"default",onClick:this.onResetSourceImage,style:{marginRight:12}},g.a.createElement(E["a"],null),g.a.createElement(O["i"],{id:"user.uploadPhoto.uploadAgain",defaultMessage:"Upload again"})),l&&g.a.createElement(r["default"],{type:"primary",onClick:l},g.a.createElement(O["i"],{id:"misc.actions.continue",defaultMessage:"Continue"}),g.a.createElement(w["a"],null)))))}}]),a}(g.a.PureComponent);t["a"]=N},yihf:function(e,t,a){"use strict";a.r(t);a("IzEo");var n=a("bx4M"),r=(a("+L6B"),a("2/Rp")),i=(a("5NDa"),a("5rEg")),o=a("ODXe"),c=a("q1tI"),l=a.n(c),s=a("9kvl"),u=a("oVF2"),p=a("ycIM"),d=a("aK7X"),m=function(){var e=Object(s["bb"])("uploadPhoto"),t=e.description,a=e.setDescription,m=e.submitPhoto,h=e.croppedImage,f=e.setCroppedImage,g=Object(c["useState"])(!0),v=Object(o["a"])(g,2),b=v[0],y=v[1],E=Object(s["bb"])("@@initialState"),w=E.initialState,O=null===w||void 0===w?void 0:w.currentUser,x=function(e,t,a,n){f({imageUrl:e,imageBlob:t,width:a,height:n})},C=function(){m(O)},j=function(e){a(e.target.value)},P=l.a.createElement(n["a"],{style:{textAlign:"center"}},l.a.createElement(i["a"],{style:{display:"block",outline:0,wordWrap:"break-word",boxSizing:"inherit",cursor:"text",minHeight:50,lineHeight:"37px",fontSize:28,fontFamily:"Proxima Nova Bold,Helvetica Neue,Helvetica,Arial,sans-serif",border:0},placeholder:Object(s["ab"])().formatMessage({id:"user.uploadPhoto.saySomething",defaultMessage:"Say something about this photo"}),onChange:j,value:t}),l.a.createElement("img",{alt:"Crop",width:"100%",style:{maxWidth:"100%"},src:h.imageUrl,onClick:function(){return y(!0)}}),l.a.createElement("div",{style:{marginTop:24}},l.a.createElement(r["default"],{type:"default",onClick:function(){return y(!0)},style:{marginRight:12}},l.a.createElement(p["a"],null),l.a.createElement(s["i"],{id:"user.uploadPhoto.cropAgain",defaultMessage:"Crop again"})),l.a.createElement(r["default"],{type:"primary",onClick:C},l.a.createElement(s["i"],{id:"user.actions.publishPost",defaultMessage:"Publish post"}),l.a.createElement(d["a"],null))));return l.a.createElement("div",{className:"App"},l.a.createElement("div",{style:{display:b?"block":"none"}},l.a.createElement(u["a"],{onResizeImage:x,onConfirm:function(){return y(!1)},maxSize:800})),!b&&P)};t["default"]=m}}]);